<script setup>
  import { useUserStore } from '@/stores/user.js'
  import { useStorageStore } from "@/stores/storage.js";
  import router from "@/router/index.js";

  const userStore = useUserStore()
  const storageStore = useStorageStore()

  let userName = ""

  const handleLogin = () => {
    const foundUser = userStore.getUsers.filter((user) => user.name === userName)

    if (foundUser.length > 0) {
      storageStore.updateSettings(foundUser[0])
      router.push('/dashboard')

    } else {
      console.log('user not found')
    }
  }

  const redirectToRegister = () => {
    router.push('/registration')
  }
</script>

<template>
    <div class="flex flex-col justify-center h-screen items-center" id=landing-container>
      <svg class="mb-2" width="206" height="72" viewBox="0 0 103 36" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
            d="M25.275 11.3481C25.4111 10.5168 24.7354 9.80625 23.8973 9.80625C23.8567 9.80625 23.8305 9.80625 23.7899 9.80625C19.399 10.2349 16.5744 10.4623 13.7617 10.4623C10.9491 10.4623 8.11257 10.2468 3.73362 9.80625C3.69303 9.80625 3.66677 9.80625 3.62618 9.80625C2.80244 9.80625 2.12673 10.5168 2.2485 11.3481C3.73601 19.8602 3.73601 25.156 1.5728 32.8629C1.30299 33.7345 1.9787 34.5374 2.85735 34.5374H24.6829C25.5615 34.5374 26.2372 33.7321 25.9674 32.8629C23.7899 25.156 23.7899 19.8602 25.275 11.3481Z"
            fill="#0072FF" />
        <path
            d="M9.3016 16.9284C9.8818 16.9284 10.3426 16.4452 10.3426 15.9241C10.3426 15.3747 9.88418 14.9199 9.3016 14.9199C8.7214 14.9199 8.3155 15.3747 8.3155 15.9241C8.3155 16.4594 8.7214 16.9284 9.3016 16.9284Z"
            fill="white" />
        <path
            d="M18.1407 16.9284C18.7209 16.9284 19.1817 16.4452 19.1817 15.9241C19.1817 15.3747 18.7233 14.9199 18.1407 14.9199C17.5605 14.9199 17.1546 15.3747 17.1546 15.9241C17.1546 16.4594 17.5605 16.9284 18.1407 16.9284Z"
            fill="white" />
        <path
            d="M13.7474 24.7987C9.49022 24.7987 8.11255 21.1134 8.11255 19.33C8.11255 18.9557 8.411 18.6597 8.78825 18.6597C9.1655 18.6597 9.46396 18.9557 9.46396 19.33C9.46396 20.6705 10.505 23.4581 13.7474 23.4581C16.9779 23.4581 18.0308 20.6823 18.0308 19.33C18.0308 18.9557 18.3293 18.6597 18.7065 18.6597C19.0838 18.6597 19.3822 18.9557 19.3822 19.33C19.3846 21.1252 18.0046 24.7987 13.7474 24.7987Z"
            fill="white" />
        <path
            d="M16.5879 6.154C18.1202 5.79509 19.069 4.27198 18.7072 2.75203C18.3454 1.23208 16.8099 0.290866 15.2776 0.649769C13.7453 1.00867 12.7965 2.53178 13.1583 4.05173C13.5201 5.57169 15.0556 6.5129 16.5879 6.154Z"
            fill="#FFCD00" />
        <path
            d="M22.7107 8.95857L22.8133 6.13777C22.8468 5.1975 21.801 4.60539 21.0035 5.11697L15.6862 8.52514C15.309 8.76672 15.0797 9.11961 14.989 9.49856C17.1522 9.45119 19.4659 9.26883 22.7107 8.95857Z"
            fill="#00CDC7" />
        <path
            d="M4.97752 8.97739C8.45154 9.31608 11.0875 9.51266 13.6948 9.51503L12.4485 5.41765C12.2121 4.63844 11.3836 4.19791 10.598 4.43238L5.60069 5.92686C4.81516 6.16134 4.37105 6.98318 4.60743 7.76239L4.97752 8.97739Z"
            fill="#FF4646" />
        <path
            d="M85.6474 22.2391C85.2074 21.131 84.5999 20.172 83.8466 19.3906C83.0908 18.6116 82.194 17.9937 81.1848 17.5604C81.1704 17.5533 79.745 16.8666 78.0757 16.9021C77.0641 16.9234 76.5116 17.1721 76.0692 17.4088C76.0285 17.4325 75.9903 17.4562 75.9496 17.4822C75.7655 17.603 75.3039 17.9061 74.8878 18.4104C74.0938 19.3717 73.9861 20.9013 74.1512 22.0118L74.2157 22.4522L74.5434 22.1657C74.8351 21.9099 75.3732 21.5335 76.1529 21.344C76.569 21.2422 77.0067 21.2328 77.4324 21.2896C78.4488 21.4269 79.3145 21.865 80.0105 22.5966C80.8595 23.4893 81.29 24.6424 81.29 26.0228C81.29 27.4079 80.8571 28.5444 80.0033 29.4016C79.1471 30.2611 78.0518 30.6967 76.746 30.6967C75.4283 30.6967 74.3353 30.2729 73.4911 29.4394C72.1422 28.104 72.2355 25.4734 72.2379 25.4356V9.91959C72.2379 9.84145 72.1853 9.77044 72.1087 9.74913L71.5635 9.58574C71.0947 9.44604 70.5542 9.375 69.9563 9.375C69.148 9.375 68.4975 9.53839 68.0263 9.86277C67.6054 10.1516 67.3926 10.6891 67.3926 11.4539V25.1751C67.3926 26.6384 67.5432 27.9193 67.8398 28.9848C68.134 30.0337 68.5525 30.924 69.0882 31.632C69.9444 32.7472 71.0517 33.6067 72.3814 34.1868C73.7255 34.7716 75.2393 35.07 76.8847 35.07C78.2288 35.07 79.4915 34.8474 80.6395 34.4094C81.785 33.9714 82.7871 33.3534 83.6218 32.572C84.454 31.793 85.1165 30.8293 85.5924 29.7117C86.0683 28.5918 86.3075 27.3392 86.3075 25.9896C86.3147 24.6092 86.0899 23.3496 85.6474 22.2391Z"
            fill="#0072FF" />
        <path
            d="M56.3722 9.59274C55.8891 9.45304 55.3414 9.37964 54.7459 9.37964C53.9375 9.37964 53.287 9.54303 52.8159 9.86741C52.395 10.1563 52.1821 10.6937 52.1821 11.4585V34.5797H57.0609V9.79638L56.3722 9.59274Z"
            fill="#0072FF" />
        <path
            d="M62.3916 14.7497C63.1593 14.7497 63.8146 14.4916 64.3384 13.9849C64.8597 13.4782 65.1228 12.839 65.1228 12.0813C65.1228 11.3236 64.8573 10.6748 64.336 10.1586C63.8122 9.64247 63.1593 9.37964 62.394 9.37964C61.6287 9.37964 60.983 9.64009 60.4712 10.1563C59.9594 10.6748 59.6987 11.3212 59.6987 12.0836C59.6987 12.8437 59.957 13.4853 60.4688 13.9897C60.9758 14.494 61.6239 14.7497 62.3916 14.7497Z"
            fill="#0072FF" />
        <path
            d="M62.5328 17.4087C61.7244 17.4087 61.0739 17.5721 60.6028 17.8964C60.1818 18.1877 59.969 18.7228 59.969 19.4876V34.5797H64.8502V17.8231L64.1614 17.6194C63.6783 17.4797 63.1306 17.4087 62.5328 17.4087Z"
            fill="#0072FF" />
        <path
            d="M92.681 9.59274C92.1979 9.45304 91.6502 9.37964 91.0547 9.37964C90.2463 9.37964 89.5958 9.54303 89.1247 9.86741C88.7038 10.1586 88.4885 10.6937 88.4885 11.4585V34.5797H93.3697V9.79638L92.681 9.59274Z"
            fill="#0072FF" />
        <path
            d="M98.5906 14.7522C99.3583 14.7522 100.014 14.4941 100.535 13.9874C101.056 13.4831 101.319 12.8414 101.319 12.0837C101.319 11.326 101.054 10.6772 100.533 10.1611C100.009 9.6449 99.3559 9.3821 98.5906 9.3821C97.8253 9.3821 97.1771 9.64254 96.6677 10.1587C96.1559 10.6773 95.8953 11.3236 95.8953 12.0861C95.8953 12.8461 96.1536 13.4878 96.6654 13.9921C97.1748 14.4941 97.8229 14.7522 98.5906 14.7522Z"
            fill="#0072FF" />
        <path
            d="M98.7339 17.4087C97.9231 17.4087 97.275 17.5721 96.8039 17.8964C96.383 18.1853 96.1677 18.7228 96.1677 19.4876V34.5797H101.047V17.8231L100.358 17.6194C99.8771 17.4797 99.3294 17.4087 98.7339 17.4087Z"
            fill="#0072FF" />
        <path
            d="M49.267 22.2391C48.827 21.131 48.2195 20.172 47.4662 19.3906C46.7105 18.6116 45.8136 17.9937 44.8044 17.5604C44.79 17.5533 43.3647 16.8666 41.6953 16.9021C40.6837 16.9234 40.1313 17.1721 39.6888 17.4088C39.6482 17.4325 39.6099 17.4562 39.5692 17.4822C39.3851 17.603 38.9235 17.9061 38.5074 18.4104C37.7134 19.3717 37.6058 20.9013 37.7708 22.0118L37.8354 22.4522L38.163 22.1657C38.4548 21.9099 38.9953 21.5335 39.7725 21.344C40.1887 21.2422 40.6263 21.2328 41.052 21.2896C42.0684 21.4269 42.9342 21.865 43.6301 22.5966C44.4791 23.4893 44.9096 24.6424 44.9096 26.0228C44.9096 27.4079 44.4767 28.5444 43.6229 29.4016C42.7668 30.2611 41.6714 30.6967 40.3656 30.6967C39.0479 30.6967 37.9549 30.2729 37.1107 29.4394C35.7619 28.104 35.8551 25.4734 35.8575 25.4356V9.91959C35.8575 9.84145 35.8049 9.77044 35.7284 9.74913L35.1831 9.58574C34.7144 9.44604 34.1739 9.375 33.576 9.375C32.7676 9.375 32.1171 9.53839 31.646 9.86277C31.2251 10.1516 31.0122 10.6891 31.0122 11.4539V25.1751C31.0122 26.6384 31.1629 27.9193 31.4594 28.9848C31.7536 30.0337 32.1721 30.924 32.7078 31.632C33.564 32.7472 34.6713 33.6067 36.001 34.1868C37.3451 34.7716 38.8589 35.07 40.5043 35.07C41.8484 35.07 43.1111 34.8474 44.2591 34.4094C45.4047 33.9714 46.4067 33.3534 47.2414 32.572C48.076 31.793 48.7361 30.8293 49.212 29.7117C49.688 28.5918 49.9271 27.3392 49.9271 25.9896C49.9319 24.6092 49.7095 23.3496 49.267 22.2391Z"
            fill="#0072FF" />
      </svg>
      <p class="mb-8 text-2xl pt-3 py-3 font-semibold">Reservation Management System</p>

      <div class="flex flex-col justify-center gap-3">
        <div class="flex flex-col">
          <p class="text-xl py-2 mb-2 text-center">Input your username</p>
          <input type="text" class="rounded-md mb-8" v-model="userName" />
        </div>
        <div class="flex flex-row m-auto">
          <button type="button" @click="handleLogin" class="mr-6 mx-auto bg-[#ffffff] border border-[#0072ff] text-[#0072ff] px-5 py-2.5 text-center rounded-lg">Login</button>
          <button type="button" @click="redirectToRegister" class="ml-6 mx-auto bg-[#0072ff] text-[#ffffff] px-5 py-2.5 text-center rounded-lg">Register</button>
        </div>
      </div>
    </div>
</template>

<style scoped>
</style>